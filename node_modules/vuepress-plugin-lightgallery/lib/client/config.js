import{defineClientConfig as c}from"@vuepress/client";import h from"lightgallery/lightgallery.es5.js";import{defineComponent as E,ref as A,watch as _,onMounted as f,onBeforeUnmount as T,h as d}from"vue";import{useRoute as R}from"vue-router";import"lightgallery/scss/lightgallery.scss";const I=n=>n.map(({alt:r,srcset:l,src:s})=>({alt:r,src:s,thumb:s||l,srcset:l,subHtml:r}));var Y=E({name:"LightGallery",setup(n,{slots:r}){const l=R(),s=A();let e=null,u;const t=[],o=[];LIGHT_GALLERY_AUTOPLAY&&(t.push(import("lightgallery/plugins/autoplay/lg-autoplay.es5.js")),o.push(import("lightgallery/scss/lg-autoplay.scss"))),LIGHT_GALLERY_FULLSCREEN&&(t.push(import("lightgallery/plugins/fullscreen/lg-fullscreen.es5.js")),o.push(import("lightgallery/scss/lg-fullscreen.scss"))),LIGHT_GALLERY_PAGER&&(t.push(import("lightgallery/plugins/pager/lg-pager.es5.js")),o.push(import("lightgallery/scss/lg-pager.scss"))),LIGHT_GALLERY_ROTATE&&(t.push(import("lightgallery/plugins/rotate/lg-rotate.es5.js")),o.push(import("lightgallery/scss/lg-rotate.scss"))),LIGHT_GALLERY_SHARE&&(t.push(import("lightgallery/plugins/share/lg-share.es5.js")),o.push(import("lightgallery/scss/lg-share.scss"))),LIGHT_GALLERY_THUMBNAIL&&(t.push(import("lightgallery/plugins/thumbnail/lg-thumbnail.es5.js")),o.push(import("lightgallery/scss/lg-thumbnail.scss"))),LIGHT_GALLERY_ZOOM&&(t.push(import("lightgallery/plugins/zoom/lg-zoom.es5.js")),o.push(import("lightgallery/scss/lg-zoom.scss")));const L=()=>{const p=u=new Date().getTime();Promise.all([Promise.all(t),Promise.all(o),new Promise(i=>setTimeout(i,LIGHT_GALLERY_DELAY))]).then(([i])=>{if(p===u){e==null||e.destroy();const a=Array.from(document.querySelectorAll(IMAGE_SELECTOR));e=new h(s.value,{...LIGHT_GALLERY_OPTIONS,dynamic:!0,dynamicEl:I(a),licenseKey:"VSY7R-J@WED-CJY76-UMDXQ",plugins:i.map(({default:m})=>m)}),a.forEach((m,G)=>{m.addEventListener("click",()=>{e==null||e.openGallery(G)})})}})};return _(()=>l.path,()=>L()),f(()=>L()),T(()=>e==null?void 0:e.destroy()),()=>{var p;return d("div",{ref:s,class:"lightgallery-vuepress"},(p=r.default)==null?void 0:p.call(r))}}}),H=c({rootComponents:[Y]});export{H as default};
//# sourceMappingURL=config.js.map
